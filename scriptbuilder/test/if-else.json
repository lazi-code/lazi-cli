{
  "id": "custom-test-if-else",
  "name": "If-Else Conditional",
  "category": "Testing",
  "description": "Branch execution based on a condition with separate true/false paths",
  "outputHandles": [
    {
      "id": "true-path",
      "label": "True",
      "position": "left",
      "color": "#16a34a"
    },
    {
      "id": "false-path",
      "label": "False",
      "position": "right",
      "color": "#dc2626"
    }
  ],
  "fields": [
    {
      "key": "leftOperand",
      "label": "Left Operand",
      "type": "text",
      "placeholder": "$variable",
      "helperText": "Variable or value to compare",
      "defaultValue": ""
    },
    {
      "key": "operator",
      "label": "Operator",
      "type": "select",
      "options": [
        { "label": "Equals (=)", "value": "eq" },
        { "label": "Not Equals (≠)", "value": "ne" },
        { "label": "Greater Than (>)", "value": "gt" },
        { "label": "Greater or Equal (≥)", "value": "ge" },
        { "label": "Less Than (<)", "value": "lt" },
        { "label": "Less or Equal (≤)", "value": "le" },
        { "label": "Contains", "value": "contains" }
      ],
      "defaultValue": "eq"
    },
    {
      "key": "rightOperand",
      "label": "Right Operand",
      "type": "text",
      "placeholder": "value",
      "helperText": "Value to compare against",
      "defaultValue": ""
    }
  ],
  "generators": {
    "powershell": "(config, branches) => { const ops = { eq: '-eq', ne: '-ne', gt: '-gt', ge: '-ge', lt: '-lt', le: '-le', contains: '-contains' }; const operator = ops[config.operator] || '-eq'; const condition = `${config.leftOperand} ${operator} ${config.rightOperand}`; let code = `if (${condition}) {\\n`; if (branches?.['true-path']) { code += `    ${branches['true-path'].replace(/\\n/g, '\\n    ')}\\n`; } code += `}`; if (branches?.['false-path']) { code += ` else {\\n`; code += `    ${branches['false-path'].replace(/\\n/g, '\\n    ')}\\n`; code += `}`; } return code; }",
    "bash": "(config, branches) => { const ops = { eq: '-eq', ne: '-ne', gt: '-gt', ge: '-ge', lt: '-lt', le: '-le' }; const operator = ops[config.operator] || '-eq'; let condition; if (config.operator === 'contains') { condition = `[[ ${config.leftOperand} =~ ${config.rightOperand} ]]`; } else { condition = `[ ${config.leftOperand} ${operator} ${config.rightOperand} ]`; } let code = `if ${condition}; then\\n`; if (branches?.['true-path']) { code += `    ${branches['true-path'].replace(/\\n/g, '\\n    ')}\\n`; } if (branches?.['false-path']) { code += `else\\n`; code += `    ${branches['false-path'].replace(/\\n/g, '\\n    ')}\\n`; } code += `fi`; return code; }"
  },
  "metadata": {
    "tags": ["control-flow", "conditional", "branch"],
    "createdAt": "2025-11-03T00:00:00.000Z",
    "updatedAt": "2025-11-03T00:00:00.000Z"
  }
}
